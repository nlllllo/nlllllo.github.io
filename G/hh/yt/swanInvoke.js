!function(e,t){for(var o in t)e[o]=t[o]}(window,function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=10)}([function(e,t,o){"use strict";const r=o(7),n=o(8),a=o(9);function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function c(e,t){return t.decode?n(e):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const o=function(e){let t;switch(e.arrayFormat){case"index":return(e,o,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=o):r[e]=o};case"bracket":return(e,o,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],o):r[e]=[o]:r[e]=o};case"comma":case"separator":return(t,o,r)=>{const n="string"==typeof o&&o.includes(e.arrayFormatSeparator),a="string"==typeof o&&!n&&c(o,e).includes(e.arrayFormatSeparator);o=a?c(o,e):o;const i=n||a?o.split(e.arrayFormatSeparator).map(t=>c(t,e)):null===o?o:c(o,e);r[t]=i};default:return(e,t,o)=>{void 0!==o[e]?o[e]=[].concat(o[e],t):o[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const n of e.split("&")){let[e,i]=a(t.decode?n.replace(/\+/g," "):n,"=");i=void 0===i?null:["comma","separator"].includes(t.arrayFormat)?i:c(i,t),o(c(e,t),i,r)}for(const e of Object.keys(r)){const o=r[e];if("object"==typeof o&&null!==o)for(const e of Object.keys(o))o[e]=p(o[e],t);else r[e]=p(o,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const o=r[t];return Boolean(o)&&"object"==typeof o&&!Array.isArray(o)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(o):e[t]=o,e},Object.create(null))}t.extract=l,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const o=o=>t.skipNull&&null==e[o]||t.skipEmptyString&&""===e[o],r=function(e){switch(e.arrayFormat){case"index":return t=>(o,r)=>{const n=o.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?o:null===r?[...o,[s(t,e),"[",n,"]"].join("")]:[...o,[s(t,e),"[",s(n,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(o,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?o:null===r?[...o,[s(t,e),"[]"].join("")]:[...o,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(o,r)=>null==r||0===r.length?o:0===o.length?[[s(t,e),"=",s(r,e)].join("")]:[[o,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(o,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?o:null===r?[...o,s(t,e)]:[...o,[s(t,e),"=",s(r,e)].join("")]}}(t),n={};for(const t of Object.keys(e))o(t)||(n[t]=e[t]);const a=Object.keys(n);return!1!==t.sort&&a.sort(t.sort),a.map(o=>{const n=e[o];return void 0===n?"":null===n?s(o,t):Array.isArray(n)?n.reduce(r(o),[]).join("&"):s(o,t)+"="+s(n,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[o,r]=a(e,"#");return Object.assign({url:o.split("?")[0]||"",query:d(l(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:c(r,t)}:{})},t.stringifyUrl=(e,o)=>{o=Object.assign({encode:!0,strict:!0},o);const r=u(e.url).split("?")[0]||"",n=t.extract(e.url),a=t.parse(n,{sort:!1}),i=Object.assign(a,e.query);let c=t.stringify(i,o);c&&(c="?"+c);let l=function(e){let t="";const o=e.indexOf("#");return-1!==o&&(t=e.slice(o)),t}(e.url);return e.fragmentIdentifier&&(l="#"+s(e.fragmentIdentifier,o)),`${r}${c}${l}`}},function(e,t,o){"use strict";(function(t){var r=o(5),n=o(6),a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function p(e){var o,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},n={},i=typeof(e=e||r);if("blob:"===e.protocol)n=new m(unescape(e.pathname),{});else if("string"===i)for(o in n=new m(e,{}),l)delete n[o];else if("object"===i){for(o in e)o in l||(n[o]=e[o]);void 0===n.slashes&&(n.slashes=a.test(e.href))}return n}function d(e){e=c(e);var t=i.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function m(e,t,o){if(e=c(e),!(this instanceof m))return new m(e,t,o);var a,i,s,l,h,f,b=u.slice(),g=typeof t,v=this,y=0;for("object"!==g&&"string"!==g&&(o=t,t=null),o&&"function"!=typeof o&&(o=n.parse),t=p(t),a=!(i=d(e||"")).protocol&&!i.slashes,v.slashes=i.slashes||a&&t.slashes,v.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(b[3]=[/(.*)/,"pathname"]);y<b.length;y++)"function"!=typeof(l=b[y])?(s=l[0],f=l[1],s!=s?v[f]=e:"string"==typeof s?~(h=e.indexOf(s))&&("number"==typeof l[2]?(v[f]=e.slice(0,h),e=e.slice(h+l[2])):(v[f]=e.slice(h),e=e.slice(0,h))):(h=s.exec(e))&&(v[f]=h[1],e=e.slice(0,h.index)),v[f]=v[f]||a&&l[3]&&t[f]||"",l[4]&&(v[f]=v[f].toLowerCase())):e=l(e);o&&(v.query=o(v.query)),a&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){if(""===e)return t;for(var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=o.length,n=o[r-1],a=!1,i=0;r--;)"."===o[r]?o.splice(r,1):".."===o[r]?(o.splice(r,1),i++):i&&(0===r&&(a=!0),o.splice(r,1),i--);return a&&o.unshift(""),"."!==n&&".."!==n||o.push(""),o.join("/")}(v.pathname,t.pathname)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(l=v.auth.split(":"),v.username=l[0]||"",v.password=l[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}m.prototype={set:function(e,t,o){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(o||n.parse)(t)),a[e]=t;break;case"port":a[e]=t,r(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,/:\d+$/.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!o;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";a[e]=t.charAt(0)!==i?i+t:t}else a[e]=t;break;default:a[e]=t}for(var s=0;s<u.length;s++){var c=u[s];c[4]&&(a[c[1]]=a[c[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=n.stringify);var t,o=this,r=o.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var a=r+(o.slashes?"//":"");return o.username&&(a+=o.username,o.password&&(a+=":"+o.password),a+="@"),a+=o.host+o.pathname,(t="object"==typeof o.query?e(o.query):o.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),o.hash&&(a+=o.hash),a}},m.extractProtocol=d,m.location=p,m.trimLeft=c,m.qs=n,e.exports=m}).call(this,o(4))},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var o=e.hasAttribute("readonly");o||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),o||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),n=document.createRange();n.selectNodeContents(e),r.removeAllRanges(),r.addRange(n),t=r.toString()}return t}},function(e,t){var o=/^(?:0|[1-9]\d*)$/;function r(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}var n=Object.prototype,a=n.hasOwnProperty,i=n.toString,s=n.propertyIsEnumerable,c=Math.max;function u(e,t){var o=b(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&g(e)}(e)&&a.call(e,"callee")&&(!s.call(e,"callee")||"[object Arguments]"==i.call(e))}(e)?function(e,t){for(var o=-1,r=Array(e);++o<e;)r[o]=t(o);return r}(e.length,String):[],r=o.length,n=!!r;for(var c in e)!t&&!a.call(e,c)||n&&("length"==c||h(c,r))||o.push(c);return o}function l(e,t,o,r){return void 0===e||f(e,n[o])&&!a.call(r,o)?t:e}function p(e,t,o){var r=e[t];a.call(e,t)&&f(r,o)&&(void 0!==o||t in e)||(e[t]=o)}function d(e){if(!v(e))return function(e){var t=[];if(null!=e)for(var o in Object(e))t.push(o);return t}(e);var t,o,r,i=(o=(t=e)&&t.constructor,r="function"==typeof o&&o.prototype||n,t===r),s=[];for(var c in e)("constructor"!=c||!i&&a.call(e,c))&&s.push(c);return s}function m(e,t){return t=c(void 0===t?e.length-1:t,0),function(){for(var o=arguments,n=-1,a=c(o.length-t,0),i=Array(a);++n<a;)i[n]=o[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=o[n];return s[t]=i,r(e,this,s)}}function h(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}function f(e,t){return e===t||e!=e&&t!=t}var b=Array.isArray;function g(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=v(e)?i.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var y,k=(y=function(e,t,o,r){!function(e,t,o,r){o||(o={});for(var n=-1,a=t.length;++n<a;){var i=t[n],s=r?r(o[i],e[i],i,o,e):void 0;p(o,i,void 0===s?e[i]:s)}}(t,function(e){return g(e)?u(e,!0):d(e)}(t),e,r)},m((function(e,t){var o=-1,r=t.length,n=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(n=y.length>3&&"function"==typeof n?(r--,n):void 0,a&&function(e,t,o){if(!v(o))return!1;var r=typeof t;return!!("number"==r?g(o)&&h(t,o.length):"string"==r&&t in o)&&f(o[t],e)}(t[0],t[1],a)&&(n=r<3?void 0:n,r=1),e=Object(e);++o<r;){var i=t[o];i&&y(e,i,o,n)}return e}))),w=m((function(e){return e.push(void 0,l),r(k,void 0,e)}));e.exports=w},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,o){"use strict";var r=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function a(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var o,n,i=[];for(n in"string"!=typeof t&&(t="?"),e)if(r.call(e,n)){if((o=e[n])||null!=o&&!isNaN(o)||(o=""),n=a(n),o=a(o),null===n||null===o)continue;i.push(n+"="+o)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,o=/([^=?#&]+)=?([^&]*)/g,r={};t=o.exec(e);){var a=n(t[1]),i=n(t[2]);null===a||null===i||a in r||(r[a]=i)}return r}},function(e,t,o){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,o){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),n=new RegExp("(%[a-f0-9]{2})+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var o=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(o),a(r))}function i(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(r),o=1;o<t.length;o++)t=(e=a(t,o).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},o=n.exec(e);o;){try{t[o[0]]=decodeURIComponent(o[0])}catch(e){var r=i(o[0]);r!==o[0]&&(t[o[0]]=r)}o=n.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),s=0;s<a.length;s++){var c=a[s];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,o){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const o=e.indexOf(t);return-1===o?[e]:[e.slice(0,o),e.slice(o+t.length)]}},function(e,t,o){"use strict";o.r(t),o.d(t,"swanInvoke",(function(){return et}));const r={baidu:{name:"baidu",UAKey:/ baiduboxapp\//i,uaFunc:e=>/ baiduboxapp\//i.test(e)&&!/ mission baiduboxapp/.test(e),scheme:"baiduboxapp",universalLink:"https://boxer.baidu.com/scheme",yybLink:"http://a.app.qq.com/o/simple.jsp?pkgname=com.baidu.searchbox",appStoreLink:"https://itunes.apple.com/cn/app/id382201985?mt=8",wechatBanned:!0}},n=window.navigator.userAgent;function a(){return Object.keys(r).find(e=>!0===r[e].uaFunc(n))||!1}function i(e){return r[e]}const s={errCode:"success",errMsg:"调起成功"},c={errCode:"fail",errMsg:"调起失败"},u={errCode:"timeout",errMsg:"调起超时"},l={errCode:"defaultFail",errMsg:"调起失败默认跳转 FailPage"},p={errCode:0,errMsg:"",data:{}},d={errCode:908,errMsg:"",data:{}};class m{constructor(e,t=""){"timeout"===e?(this.errno="1",this.errCode=u.errCode,this.errMsg=u.errMsg):(this.errno="2",this.errCode=c.errCode,this.errMsg=t||c.errMsg)}}const h=navigator.userAgent;const f=function(){let e={os:"unknown",osVersion:"0",app:"unknown",appVersion:"0"};const t={wechat:/micromessenger\/([\d|.]*)/i,qq:/QQ\/([\d|.]*)/,weibo:/\bweibo\b/i,baiduhi:/\bbaiduhi/i,baidu:/\bbaiduboxapp\/([\d|.]*)/i,chrome:/\bChrome\/([\d|.]*)/i,safari:/\bsafari\/([\d|.]*)/i,uc:/\bUCBrowser\/([\d|.]*)/i};Object.keys(t).find(o=>{let r=h.match(t[o]);return!!r&&(e.app=o,e.appVersion=r[1]||"",!0)}),e.app||(e.app=a());let o=h.match(/(Android);?\s+([\d.]+)?/);if(o)return e.os="android",e.osVersion=o[2],e;let r=h.match(/(iPad|iPod|iPhone).*OS\s([\d_]+)/);return r?(e.os="ios",e.osVersion=r[2],e):e}();function b(e){let t=i(e);return!!t&&t.uaFunc(h)}const g="ios"===f.os,v=(f.os,/\.baidu\.com/.test(window.location.hostname)),y=/(lite|info) baiduboxapp/.test(h);function k(e){return"object"==typeof e}let w=(Date.now()+"").slice(-5);function x(e){return new Promise((t,o)=>{window[e]=function(e){0===(e=function(e){let t="",o="",r={};if(k(e))t=e.errCode>=0?e.errCode:+e.status,o=e.errMsg||e.message,r=e.data;else{try{e=JSON.parse(e)}catch(e){console.log(e)}t=+e.status,r=e.data||{}}return{errCode:t,errMsg:o,data:r}}(e)).errCode&&t(e),o(e)}})}function U(){return"_swan_invoke_"+w++}var S=o(1),j=o.n(S),E=o(0),C=o.n(E);function N(e,t){let o=new j.a(e),r=C.a.parse(o.query);return Object.assign(r,t),Object.keys(r).forEach(e=>{let t=r[e];k(t)&&(r[e]=JSON.stringify(t))}),o.set("query",r),o.href}function P(e){const{appKey:t,path:o,hostInfo:r,query:n,scheme:a,from:i,ext:s={}}=e;if(a)return a;return N(`${r.scheme}://swan/${t}${"/"===o[0]?o:"/"+o}`,{...n,_baiduboxapp:JSON.stringify({from:i,ext:{sInvokeFromApp:f.app,sInvokeFromInBox:f.app===e.hostId?"1":"0",...s}})})}function _(e){let t=U(),o=U(),r=x(t),n=x(o),a=Promise.all([r,n]).then(([e,t])=>s).catch(e=>{throw new m("fail",e)}),i=function(e,t,o){const{appKey:r,path:n,hostInfo:a,query:i,from:s,ext:c={}}=e;let u={appKey:r,cb:o,from:s,extraData:c};return n&&(u.path=N(n,i)),a.scheme+"://swanAPI/navigateToProgram?params="+encodeURIComponent(JSON.stringify(u))+"&callback="+t}(e,t,o);try{!function(e){const t="undefined"==typeof swanGlobal;if(!t&&g)return _naSwan.bridge.postMessage(e);if(!t&&!g)return _naSwan.Bdbox_android_jsbridge.dispatch(e);if(g)return window.webkit.messageHandlers.bridge.postMessage(e);window.Bdbox_android_jsbridge.dispatch(e)}(i)}catch(e){return Promise.reject(new m("fail",e.message))}return a}var A=o(2),O=o.n(A);var I,B=class{constructor(e){this.resolveOptions(e),this.initSelection()}resolveOptions(e={}){this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}initSelection(){this.text?this.selectFake():this.target&&this.selectTarget()}selectFake(){const e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=()=>this.removeFake(),this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";let t=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=t+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=O()(this.fakeElem),this.copyText()}removeFake(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}selectTarget(){this.selectedText=O()(this.target),this.copyText()}copyText(){let e;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}handleResult(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}clearSelection(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}set action(e="copy"){if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')}get action(){return this._action}set target(e){if(void 0!==e){if(!e||"object"!=typeof e||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}}get target(){return this._target}destroy(){this.removeFake()}};function q(e,t){for(var o=e.toString().split("."),r=t.toString().split("."),n=Math.max(o.length,r.length),a=0;a<n;a++){if(o[a]&&!r[a]&&parseInt(o[a],10)>0||parseInt(o[a],10)>parseInt(r[a],10))return I.bigger;if(r[a]&&!o[a]&&parseInt(r[a],10)>0||parseInt(o[a],10)<parseInt(r[a],10))return I.smaller}return I.equl}function R(e){return Object.keys(e).reduce((function(t,o){var r=e[o];return t+="&"+o+"="+encodeURIComponent(r)}),"").slice(1)}!function(e){e[e.equl=0]="equl",e[e.bigger=1]="bigger",e[e.smaller=-1]="smaller"}(I||(I={}));var F=1,T=(new Date).getTime().toString(16).slice(8);function $(e){var t="_"+T+F++;return window[t]=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e.apply(window,[].slice.call(t,0))},t}function M(e,t){return void 0===t&&(t=!0),e.map((function(e){var o=typeof e;return"string"===o?e:"function"===o?$(e):t?JSON.stringify(e):e}))}var Y=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=!0),Object.keys(e).reduce((function(o,r){var n=e[r];switch(function(e){var t=Object.prototype.toString.call(e).match(/\[object ([A-z]+)\]/);return t?t[1].toLowerCase():""}(n)){case"null":case"undefined":o[r]="";break;case"array":o[r]=t?JSON.stringify(M(n,!1)):M(n,!1);break;case"object":o[r]=t?JSON.stringify(Y(n,!1)):Y(n,!1);break;case"function":o[r]=$(n);break;default:o[r]=n}return o}),{})};const D={app:"",url:"https://activity.baidu.com/activity/felog/error",watch:!0};var J=new class{constructor(){this.config={},this.isCheckedParams=!0}init(e={}){if(this.config=Object.assign({},D,e),!this.config.app)return this.isCheckedParams=!1,void console.error("[h5-error-log]: app参数必填~");this.config.watch&&this.watch(),delete this.config.watch}watch(){window.addEventListener("error",(...e)=>{this.send({level:"error",type:"page",content:JSON.stringify(e),ext:{errmsg:JSON.stringify(e)}})}),window.addEventListener("unhandledrejection",e=>{e.preventDefault(),this.send({level:"unhandledrejection",type:"page",content:JSON.stringify(e.reason),ext:{errmsg:JSON.stringify(e.reason)}})})}send(e={level:"info",type:"-",content:"-",ext:{errmsg:""}},t=!1){if(!this.isCheckedParams)return void console.error("[h5-error-log]: 参数校验失败，请检查init参数");let o={...this.config,...e};o.ext=JSON.stringify(o.ext||{}),o.h5="1",delete o.url;let r=(n=o,Object.keys(n).reduce((e,t)=>{const o=n[t];return e+="&"+t+"="+encodeURIComponent(o)},"").slice(1));var n;(!t||t&&!this.sendBeacon(r))&&this.loadImage(r)}loadImage(e){let t=new Image,o="_img_"+function(){let e="";const t="abcdefghijklmnopqrstuvwxyz01234567890";for(let o=0,r=8;o<r;++o)e+=t[Math.floor(Math.random()*t.length)];return e}();window[o]=t,t.onload=t.onerror=t.onabort=function(){t=t.onload=t.onerror=t.onabort=null,delete window[o]},t.src=this.config.url+"?"+e}sendBeacon(e){return"sendBeacon"in navigator&&navigator.sendBeacon(`${this.config.url}?${e}`)}},V=o(3),L=o.n(V);const z=[["wechat",/\bmicromessenger\/([0-9.]+)/i],["qqbrowser",/\bm?qqbrowser\/([0-9.]+)(?!.* qq)/i],["qq",/\bqq\/([0-9.]+)/i],["ttbrowser",/\btencenttraveler ([0-9.]+)/i],["weibo",/weibo__([0-9.]+)/i],["uc",function(e){return/ucbrowser/i.test(e)?/\bucbrowser\/([0-9.]+)/i:/ubrowser/i.test(e)?/\bubrowser\/([0-9.]+)/i:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/i:/ucweb/i.test(e)?/\bucweb([0-9.]+)?/i:/\b(?:ucbrowser|uc)\b/i}],["360",function(e){return-1!==e.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/i:/\b360(?:se|ee|chrome|browser)\b/i}],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/i],["baiduboxlite",/\b(lite|info) baiduboxapp\/([0-9.]+)/i],["baiduboxmission",/\bmission baiduboxapp\/([0-9.]+)/i],["baiduboxvision",/\bbaiduboxvision\/([0-9.]+)/i],["baiduboxapp",function(e){return!/(lite|info) baiduboxapp/i.test(e)&&!/mission baiduboxapp/i.test(e)&&/\bbaiduboxapp\/([0-9.]+)/i}],["tieba",/\btieba\/([0-9.]+)/i],["quark",/\bquark\/([0-9.]+)/i],["baiduhaokan",/\bhaokan\/([0-9.]+)/i],["bdminivideo",/\bbdminivideo\/([0-9.]+)/i],["bdnetdisk",/\bnetdisk\/([0-9.]+)/i],["baidumap",/\bbaidumap\/([0-9.]+)/i],["baiduhi",/\bbaiduhi_android\/([0-9.]+)/i],["bddrama",/\bbddrama\/([0-9.]+)/i],["wenku",/\bcom.baidu.wenku\/([0-9.]+)/i],["lemon",/\blemonapp\/([0-9.]+)/i],["baiduinput",/\bbaiduinput\/([0-9.]+)/i],["weibaapp",/\bweibaapp\/([0-9.]+)/i],["youjia",/\byoujia\/([0-9.]+)/i],["yike",/\byoua\/([0-9.]+)/i],["askmybaby",/\bmybaby\/([0-9.]+)/i],["tomas",/\btomas\/([0-9.]+)/i],["baiduhanyu",/\bdictapp\/([0-9.]+)/i],["sogou",function(e){return/sogoumobilebrowser/i.test(e)?/sogoumobilebrowser\/([0-9.]+)/i:!!/sogoumse/i.test(e)||/ se ([0-9.x]+)/i}],["alipay",function(e){return e.indexOf("aliapp")>0?/\baliapp\(ap\/([0-9.]+)\)/i:/\balipayclient\/([0-9.]+)\b/i}],["taobao",/\baliapp\(tb\/([0-9.]+)\)/i],["tianmao",/\baliapp\(tm\/([0-9.]+)\)/i],["tao",/\btaobrowser\/([0-9.]+)/i],["quark",/\bquark\/([0-9.]+)/i],["xiaomi",/\bmiuibrowser\/([0-9.]+)/i],["oppo",/\bheytapbrowser\/([0-9.]+)/i],["vivo",/\bvivobrowser\/([0-9.]+)/i],["meizu",/\bmzbrowser\/([0-9.]+)/i],["nokia",/\bnokiabrowser\/([0-9.]+)/i],["huawei",/\bhuaweibrowser\/([0-9.]+)/i],["samsung",/\bsamsungbrowser\/([0-9.]+)/i],["maxthon",/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/i],["opera",function(e){const t=/\bopera.+version\/([0-9.ab]+)/i;return t.test(e)?t:/\bopr\/([0-9.]+)/i}],["edge",/edge\/([0-9.]+)/i],["firefox",/\bfirefox\/([0-9.ab]+)/i],["chrome",/(?:chrome|crios|crmo)\/([0-9.]+)/i],["android",function(e){return-1===e.indexOf("android")?/android/i:/\bversion\/([0-9.]+(?: beta)?)/i}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//i],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/i]],H=navigator.userAgent;function K(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}const G=(e=H)=>{let t={name:"na",version:"0"};return function(e,t){for(let o=0;o<e.length&&!1!==t.call(e,e[o],o);o++);}(z,([o,r])=>{const n=function(e,t,o){let r={name:e,version:"0"};const n=K("Function")(t)?t.call(null,o):t;if(!n)return null;if(!0===n)return r;if(K("String")(n)){if(-1!==o.indexOf(n))return r}else{if(K("Object")(n))return n.hasOwnProperty("version")&&(r.version=n.version),r;if(K("RegExp")(n)){const e=n.exec(o);if(e)return e.length>=2&&e[1]&&(r.version=e[1].replace(/_/g,".")),r}}}(o,r,e);if(n)return t=n,!1}),t},Q={openYYB:!1,useDeeplink:!1,useIframe:!0,useULink:!0},X={baiduboxapp:{...Q,useDeeplink:!0},baiduboxlite:{...Q,useDeeplink:!0},baiduhaokan:{...Q,useDeeplink:!0},bdminivideo:{...Q,useDeeplink:!0},chrome:{...Q,useIframe:!1},wechat:{...Q,openYYB:!0},uc:{...Q,useIframe:!1},samsung:{...Q,useIframe:!1},quark:{...Q,useULink:!1}},Z=[["samsung",/.*Android.*(SAMSUNG|SM-).*/i],["xiaomi",/.*Android.*Mi.*/i],["oppo",/.*(OPPO|heytap|p[a-z][a-z][a-z]\d0).*/i],["vivo",/.*Android.*(vivo|v\d\d\d\d[a-z]?a).*/i],["huawei",/.*huawei.*/i],["honor",/.*honor.*/i],["apple",/(iPhone|iPod|iPad|Macintosh)/i]],W={mimarket:e=>`mimarket://details?id=${e}&back=true`,appmarket:e=>`appmarket://details?id=${e}&back=true`,oppomarket:e=>"oppomarket://details?packagename="+e,vivomarket:e=>"vivomarket://details?id="+e,samsungapps:e=>`samsungapps://ProductDetail/${e}?back=1`,market:e=>"market://details?id="+e},ee=[["*","samsung","samsungapps"],["weibo","*","market"],["baiduboxapp","*","market"],["xiaomi","xiaomi","mimarket"],["uc","xiaomi","mimarket"],["sogou","xiaomi","mimarket"],["qqbrowser","huawei","market"],["qqbrowser","honor","market"],["*","huawei","appmarket"],["*","honor","appmarket"],["uc","oppo","oppomarket"],["sogou","oppo","oppomarket"],["quark","oppo","oppomarket"],["uc","vivo","vivomarket"],["sogou","vivo","vivomarket"]];function te(){const e=window.navigator.userAgent,t={browser:"default",brand:"default"};for(const[o,r]of z){const n="function"==typeof r?r(e):r;if("boolean"==typeof r&&r||n.test(e)){t.browser=o;break}}for(const[o,r]of Z){if(("function"==typeof r?r(e):r).test(e)){t.brand=o;break}}return t}let oe=JSON.parse(JSON.stringify(Q));const{browser:re,brand:ne}=te();function ae(e){const t=G().name;if(X[t]&&(oe=X[t]),"qqbrowser"!==re||"huawei"!==ne&&"honor"!==ne||(oe.useIframe=!1),!oe.useIframe)return void(window.top.location.href=e);let o=document.createElement("iframe");o.style.display="none",o.src=e;const r=document.body;r.appendChild(o),setTimeout((function(){r.removeChild(o),o=null}),0)}const ie=e=>new Promise((t,o)=>{window._naCopyCb_=function(e){e&&"string"==typeof e&&0===Number(JSON.parse(e).status)?t("naCopyDone"):o(e)};ae(`baiduboxapp://v19/utils/setClipboardData?params=${encodeURIComponent(JSON.stringify({data:e}))}&callback=_naCopyCb_`)});const se={baiduboxapp:[{name:"xiaomi",maximumVersion:"0",minimumVersion:"0"},{name:"uc",maximumVersion:"0",minimumVersion:"0"},{name:"oppo",maximumVersion:"0",minimumVersion:"0"},{name:"vivo",maximumVersion:"0",minimumVersion:"0"},{name:"wechat",maximumVersion:"0",minimumVersion:"0"}]};function ce(e){return new Promise((t,o)=>{const r=setTimeout(()=>{if("hidden"===document.visibilityState)return clearTimeout(r),void t();o()},e);document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&(clearTimeout(r),t())})})}const ue=navigator.userAgent,le=/(iPhone|iPod|iPad|Macintosh)/i.test(ue),pe=/(Android)/i.test(ue),de=Number(function(){let e=/OS ((\d+_?){2,3})\s/i;if(navigator.userAgent.match(/iPad/i)||navigator.platform.match(/iPad/i)||navigator.userAgent.match(/iP(hone|od)/i)||navigator.platform.match(/iP(hone|od)/i)){let t=e.exec(navigator.userAgent);if((null==t?void 0:t.length)>0)return t[0].replace("OS","").replace("os","").replace(/\s+/g,"").replace(/_/g,".")}return""}().split(".")[0]);const me=function(){let e=RegExp(/iPad/i).test(navigator.userAgent);if(!e){RegExp(/Macintosh/i).test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&(e=!0)}return e}(),he=["baiduboxapp","baiduboxlite","baiduhaokan","bdminivideo","baiduboxmission","baidumap","bdnetdisk","tieba","bddrama","wenku","lemon","baiduinput","baiduboxvision","weibaapp","youjia","askmybaby","yike","baiduhanyu","yoopu","tomas"],fe=navigator.userAgent,be=(e=fe)=>{const t=G(e).name;return-1!==he.indexOf(t)?t:""},ge={status:90001,msg:"真实的去尝试调起了哦"},ve={status:1e4,msg:"APP调起成功"},ye={status:10001,msg:"应用商店调起成功"},ke={status:10002,msg:"下载链接调起成功"},we={status:10003,msg:"在安卓微信中应用宝调起成功"},xe={status:10004,msg:"兜底链接调起成功"},Ue={status:20001,msg:"此方法不支持IOS调起！"},Se={status:20002,msg:"pkgName参数不得为空！"},je={status:20003,msg:"scheme参数不得为空！"},Ee={status:20004,msg:"口令复制失败！"},Ce={status:20005,msg:"调起APP失败！"},Ne={status:20006,msg:"暂不支持此系统！"},Pe={status:20007,msg:"调起APP及应用商店失败！"},_e={status:20008,msg:"调起universal link失败"},Ae={status:20011,msg:"不支持的appName，请检查AppName属性和当前版本"};async function Oe(e,t=2e3){const o=function(e){if(!pe)return Ue;if(!e)return Se;return!1}(e);if(o)return Promise.reject(o);let r=function(e){const{browser:t,brand:o}=te();let r="market://details?id="+e;for(const[n,a,i]of ee)if(!("*"!==n&&t!==n||"*"!==a&&o!==a)){r=W[i](e);break}return r}(e);"tieba"===be()&&(r+="&enable_tieba_native_open=1"),ae(r);try{const e=await ce(t);return Promise.resolve(e)}catch(e){return Promise.reject(Pe)}}J.init({url:"https://activity.baidu.com/activity/felog/log",app:"ug-invoke-app_prod",watch:!1});let Ie={},Be=0;function qe(e){Be=Math.floor(100*Math.random()),Ie=e}function Re({appName:e,token:t,scheme:o,failedUrl:r,status:n},a=!1){(function(){if("mcp_stat"===Ie.fullStat)return!1;let e=new j.a(window.location.href);return"1"===(C.a.parse(e.query)||{})._uia_h||Ie.fullStat||Be<10})()&&J.send({_uia_brand:Ie.brand||"",_uia_browser:e||Ie.browser||"",_uia_appName:e||Ie.appName||"",_uia_token:t||Ie.token||"",_uia_scheme:o||Ie.scheme||"",_uia_failedUrl:r||Ie.failedUrl||"",_uia_fullStat:Ie.fullStat||"",_uia_toStore:Ie.toStore||"",_uia_toYYB:Ie.toYYB||"",_uia_ulink:Ie.ulink||"",_uia_timeout:Ie.timeout||"",_uia_deeplink:Ie.deeplink||"",_uia_avoidBlacklistBrowser:Ie.avoidBlacklistBrowser||"",_uia_checkTokenCopied:Ie.checkTokenCopied||"",_uia_iosStoreUrl:Ie.iosStoreUrl||"",_uia_status:n},a)}async function Fe(e){if(le)return async function(e){if(e.toStore)return Re({status:ye.status},!0),location.href=e.appStoreUrl,Promise.resolve(ye);if(e.failedUrl)return Re({status:xe.status},!0),location.href=e.failedUrl,Promise.resolve(xe);return Re({status:Ce.status},!0),Promise.reject(Ce)}(e);if(!e.toStore&&!e.downloadUrl&&!e.failedUrl)return Re({status:Ce.status},!0),Promise.reject(Ce);if(!e.toStore)return e.downloadUrl?(Re({status:ke.status},!0),location.href=e.downloadUrl,Promise.resolve(ke)):(Re({status:xe.status},!0),location.href=e.failedUrl,Promise.resolve(xe));try{return await Oe(e.pkgName,e.timeout),Re({status:ye.status},!0),Promise.resolve(ye)}catch(t){return e.downloadUrl||e.failedUrl?e.downloadUrl?(Re({status:ke.status},!0),location.href=e.downloadUrl,Promise.resolve(ke)):(Re({status:xe.status},!0),location.href=e.failedUrl,Promise.resolve(xe)):(Re({status:Pe.status},!0),Promise.reject(Pe))}}function Te(e){return new Promise((t,o)=>{ae("baiduboxapp://v7/vendor/ad/deeplink?"+R(Y({params:{appUrl:e.scheme,exemption:1}}))+"&callback="+$((function(o){let r=JSON.parse(o);0==+r.status?(Re({status:ve.status}),t(ve)):(console.log("端能力返回错误",r),t(Fe(e)))})))})}const $e={baiduboxapp:Te,baiduboxlite:Te,baiduboxvision:function(e){return new Promise((t,o)=>{ae("baiduboxvision://v7/vendor/ad/deeplink?"+R(Y({params:{appUrl:e.scheme,exemption:1}}))+"&callback="+$((function(o){let r=JSON.parse(o);0==+r.status?(Re({status:ve.status}),t(ve)):(console.log("端能力返回错误",r),t(Fe(e)))})))})},bdminivideo:function(e){return new Promise((t,o)=>{ae("bdminivideo://growth/launch3rdApp?"+R(Y({callback:function(o){0==+JSON.parse(o).status?(Re({status:ve.status}),t(ve)):t(Fe(e))},params:{scheme:e.scheme}},!0)))})}};async function Me(e){return Je.useDeeplink&&(()=>{var e,t;const o=/baidu\.com/i.test(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.href),r=be();return o&&Object.keys($e).includes(r)})()&&e.deeplink?(e=>{const t=be();return $e[t](e)})(e):pe?async function(e){if(Je.openYYB&&e.toYYB)return Re({status:we.status},!0),function(e){const t="http://a.app.qq.com/o/simple.jsp?pkgname="+e.pkgName;location.href=`${t}&android_schema=${encodeURIComponent(e.scheme)}`}(e),Promise.resolve(we);if(function(e){const t=se[e];if(t){const e=G();for(let o=0;o<t.length;o++){const r=t[o].name===e.name,n=1!==q(e.version,t[o].maximumVersion)||"0"===t[o].maximumVersion,a=-1!==q(e.version,t[o].minimumVersion)||"0"===t[o].minimumVersion;if(r&&n&&a)return!0}}return!1}(e.appName)&&e.avoidBlacklistBrowser)return await Ye(e);ae(e.scheme);try{return await ce(e.timeout),Re({status:ve.status}),Promise.resolve(ve)}catch(t){return await Ye(e)}}(e):le?async function(e){if(e.ulink&&(de>=9||me)&&Je.useULink){window.top.location=e.ulink;try{return await ce(e.timeout),Re({status:ve.status},!0),Promise.resolve(ve)}catch(e){return Re({status:_e.status},!0),Promise.reject(_e)}}else{de>=9||me?window.top.location=e.scheme:ae(e.scheme);try{return await ce(e.timeout),Re({status:ve.status}),Promise.resolve(ve)}catch(t){return e.toStore?(Re({status:ye.status},!0),location.href=e.appStoreUrl,Promise.resolve(ye)):e.failedUrl?(Re({status:xe.status},!0),location.href=e.failedUrl,Promise.resolve(xe)):(Re({status:Ce.status},!0),Promise.reject(Ce))}}}(e):(Re({status:Ne.status}),Promise.reject(Ne))}async function Ye(e){if(!e.toStore&&!e.downloadUrl&&!e.failedUrl)return Re({status:Ce.status}),Promise.reject(Ce);if(!e.toStore)return e.downloadUrl?(Re({status:ke.status},!0),location.href=e.downloadUrl,Promise.resolve(ke)):(location.href=e.failedUrl,Re({status:xe.status},!0),Promise.resolve(xe));if(Je.openYYB&&!e.toYYB)return Re({status:Ce.status},!0),Promise.reject(Ce);try{return await Oe(e.pkgName,e.timeout),Re({status:ye.status},!0),Promise.resolve(ye)}catch(t){return e.downloadUrl||e.failedUrl?e.downloadUrl?(Re({status:ke.status},!0),location.href=e.downloadUrl,Promise.resolve(ke)):(Re({status:xe.status},!0),location.href=e.failedUrl,Promise.resolve(xe)):(Re({status:Pe.status}),Promise.reject(Pe))}}const De={appName:"baiduboxapp",token:"",downloadUrl:"",toStore:!0,toYYB:!0,timeout:3e3,ulink:"",appStoreUrl:"",deeplink:!0,avoidBlacklistBrowser:!0,failedUrl:"",checkTokenCopied:!0,fullStat:!1};let Je=JSON.parse(JSON.stringify(Q));async function Ve(e){const{browser:t,brand:o}=te();e=L()(e,De),qe({browser:t,brand:o,...e});const r=function(e){if(!e.pkgName)return Re({status:Se.status}),Se;if(!e.scheme)return Re({status:je.status}),je;return!1}(e);if(r)return Promise.reject(r);if(function(){const e=G().name;X[e]&&(Je=X[e])}(),e.token)try{await(n={token:e.token},new Promise((e,t)=>{new B({action:"copy",text:n.token,container:document.body,emitter:{emit(o){"success"===o?e():t()}}})}))}catch(t){let o=!1;if("baiduboxapp"===be())try{await async function(e){return await Promise.race([ie(e),new Promise((e,t)=>{setTimeout(()=>t("naCopy调用超时了！"),500)})])}(e.token),o=!0}catch(e){console.log(e)}if(!o&&e.checkTokenCopied)return Re({status:Ee.status}),Promise.reject(Ee)}var n;return Re({status:ge.status},!0),await Me(e)}const Le={baiduboxapp:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://boxer.baidu.com/scheme?scheme=${encodeURIComponent(e)}&target=${encodeURIComponent(r)}`},appStoreUrl:"https://itunes.apple.com/cn/app/id382201985?mt=8",scheme:"baiduboxapp://v11/appTab/select?item=home&upgrade=0",pkgName:"com.baidu.searchbox"},baiduboxlite:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://wakeup.baidu.com/baiduboxlite/scheme?scheme=${encodeURIComponent(e)}&target=${encodeURIComponent(r)}`},appStoreUrl:"https://itunes.apple.com/cn/app/id1281873118?mt=8",scheme:"baiduboxlite://v11/appTab/select?item=home&upgrade=0",pkgName:"com.baidu.searchbox.lite"},baiduhaokan:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl,n=e.replace("baiduhaokan://",""),a=n.includes("?");return"https://hku.baidu.com/h5/share/s/"+n+(a?"&":"?")+"target="+encodeURIComponent(r)},appStoreUrl:"https://itunes.apple.com/cn/app/bai-du-hao-kan/id1092031003",scheme:"baiduhaokan://home/index",pkgName:"com.baidu.haokan"},bdminivideo:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://vv.baidu.com/feedvideoui/ulink?scheme=${encodeURIComponent(e)}&target=${encodeURIComponent(r)}`},appStoreUrl:"https://itunes.apple.com/cn/app/%E5%85%A8%E6%B0%91%E5%B0%8F%E8%A7%86%E9%A2%91/id1329385145?mt=8",scheme:"bdminivideo://home/index",pkgName:"com.baidu.minivideo"},tieba:{appStoreUrl:"https://itunes.apple.com/app/apple-store/id477927812?pt=328057&ct=bottom_layer&mt=8",pkgName:"com.baidu.tieba",getUlink:(e,t)=>"",scheme:"com.baidu.tieba://unidispatch/homepage"},bdnetdisk:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://snsyun.baidu.com/wap/snsdeeplink?scheme=${encodeURIComponent(e)}&target=${encodeURIComponent(r)}`},pkgName:"com.baidu.netdisk",appStoreUrl:"https://itunes.apple.com/cn/app/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98/id547166701?mt=8",scheme:"bdnetdisk://n/action.EXTERNAL_ACTIVITY?m_n_v=10.0.20"},iqiyi:{getUlink:(e,t)=>"",pkgName:"com.qiyi.video",appStoreUrl:"https://apps.apple.com/cn/app/id393765873",scheme:"iqiyi://"},baidumap:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://clientmap.baidu.com/map/maplink.php?cburl=${encodeURIComponent(r)}&openapi=${encodeURIComponent(e)}`},appStoreUrl:"https://itunes.apple.com/cn/app/id452186370",scheme:"baidumap://map?src=uginvoke",pkgName:"com.baidu.BaiduMap"},bddrama:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://ulinkmvideo.baidu.com/wisedrama/system/ulink?scheme=${encodeURIComponent(e)}&target=${encodeURIComponent(r)}`},appStoreUrl:"https://apps.apple.com/cn/app/%E7%95%AA%E4%B9%90/id1484301936",pkgName:"com.baidu.mv.drama",scheme:"bddrama://home?source="},wenku:{getUlink:(e,t)=>"",appStoreUrl:"https://apps.apple.com/cn/app/id426340811",pkgName:"com.baidu.wenku",scheme:"bdwenku://wenku/operation?type=136&tab=find"},lemon:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://wakeup.baidu.com/lemonapp/scheme?scheme=${encodeURIComponent(e)}&target=${encodeURIComponent(r)}`},appStoreUrl:"http://click.hm.baidu.com/app.gif?ap=1801081&ch=47556",scheme:"lemon://share?type=13",pkgName:"com.baidu.lemon"},baiduinput:{getUlink:(e,t)=>"https://srf.baidu.com/?from=1024129m&c=apple&e=imehd&native_url="+encodeURIComponent(e),appStoreUrl:"https://itunes.apple.com/app/apple-store/id916139408?pt=625805&ct=1024129m&mt=8",scheme:"baiduimsettings2://superskin",pkgName:"com.baidu.input"},baiduboxvision:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://wakeup.baidu.com/baiduboxvision/scheme?scheme=${encodeURIComponent(e)}&target=${encodeURIComponent(r)}`},appStoreUrl:"https://apps.apple.com/cn/app/id1526110789",scheme:"baiduboxvision://appTab/select?item=home",pkgName:"com.baidu.searchbox.vision"},weibaapp:{getUlink:(e,t)=>"",appStoreUrl:"https://apps.apple.com/cn/app/%E5%BE%AE%E5%8F%AD/id1410178720",scheme:"lazybd://com.melon.lazymelon/home",pkgName:"com.melon.lazymelon"},youjia:{getUlink:(e,t)=>"",appStoreUrl:"https://apps.apple.com/cn/app/id1490227077",scheme:"youjia://app/homepage",pkgName:"com.baidu.autocar"},askmybaby:{getUlink:(e,t)=>"",appStoreUrl:"https://apps.apple.com/cn/app/%E5%AE%9D%E5%AE%9D%E7%9F%A5%E9%81%93-%E7%A7%91%E5%AD%A6%E5%A4%87%E5%AD%95%E6%80%80%E5%AD%95%E8%82%B2%E5%84%BF%E5%8A%A9%E6%89%8B/id858401906",scheme:"askmybaby://com.baidu.mbaby/",pkgName:"com.baidu.mbaby"},yike:{getUlink:(e,t)=>"https://photo.baidu.com/app/scheme?&scheme="+encodeURIComponent(e),appStoreUrl:"https://apps.apple.com/cn/app/%E4%B8%80%E5%88%BB%E7%9B%B8%E5%86%8C-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%87%BA%E5%93%81/id1467852587",scheme:"youa://youa.com/home",pkgName:"com.baidu.youavideo"},baiduhanyu:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://wakeup.baidu.com/baidudict/scheme?scheme=${encodeURIComponent(e)}&target=${encodeURIComponent(r)}`},appStoreUrl:"https://apps.apple.com/cn/app/1/id1065829176",scheme:"baidudict://com.baidu.dict",pkgName:"com.baidu.dict"},yoopu:{getUlink(e,t){var o;const r=null!==(o=t)&&void 0!==o?o:this.appStoreUrl;return`https://wakeup.baidu.com/yoopu/scheme?scheme=${encodeURIComponent(e)}&target=${encodeURIComponent(r)}`},appStoreUrl:"https://itunes.apple.com/cn/app/id1533615786?mt=8",scheme:"yoopu://",pkgName:"com.baidu.upup"},tomas:{getUlink:(e,t)=>"",appStoreUrl:"https://apps.apple.com/cn/app/id1546173008",scheme:"tomas://",pkgName:"com.baidu.searchbox.tomas"}};function ze(e){const t=P(e),o=e.disableFailHandler?"":e.failUrl;return function({appName:e,downloadUrl:t,failedUrl:o,token:r,scheme:n,toStore:a=!0,toYYB:i,ulink:s,timeout:c,deeplink:u,avoidBlacklistBrowser:l,checkTokenCopied:p,iosStoreUrl:d,fullStat:m=!1}){var h;if(qe({appName:"",token:"",scheme:"",failedUrl:"",fullStat:!1}),!Object.keys(Le).includes(e))return Re({status:Ae.status}),Promise.reject(Ae);Le[e].appStoreUrl=d||Le[e].appStoreUrl;const f=Le[e],{appStoreUrl:b,pkgName:g}=f;let v=n||f.scheme;return Ve({appName:e,token:r,downloadUrl:t,failedUrl:o,pkgName:g,scheme:v,appStoreUrl:b,toStore:a,toYYB:i,timeout:c,deeplink:u,ulink:null!==(h=s)&&void 0!==h?h:f.getUlink(v,a?void 0:o),avoidBlacklistBrowser:l,checkTokenCopied:p,fullStat:m})}({appName:"baiduboxapp",token:e.token,scheme:t,failedUrl:o,toStore:e.toStore,checkTokenCopied:!1,timeout:e.timeout}).then(()=>s).catch(t=>{if(void 0===e.failUrl)throw l;throw new m("fail",t.msg)})}const He=("http:"===window.location.protocol?"http:":"https:")+"//m.baidu.com/tcbox",Ke={action:"pblog",service:"bdbox",data:{appid:1,cateid:99,actiontype:1,actiondata:{id:"10353",type:"0",timestamp:"",content:{boxVersion:f.appVersion||"",platform:f.os,inBox:"baidu"===f.app?"0":"1",type:"",source:f.app,ext:{url:window.location.href,browserVersion:f.appVersion}}}}};const Ge=new class{constructor(){this.data=Ke}init(e){this.data.data.actiondata.content.inBox=f.app===e.hostId?"0":"1",this.data.data.actiondata.content.ext={...this.data.data.actiondata.content.ext,appKey:e.appKey,path:e.path,query:e.query,ext:e.ext,from:e.from}}log(e,t){return new Promise((o,r)=>{this.data.data.actiondata.content={...this.data.data.actiondata.content,failMsg:t||{},type:e},this.data.data.actiondata.timestamp=Date.now()+"";let n=new Image(1,1),a="_swan_invoke_mon"+(Date.now()+"").slice(-5);window[a]=n,n.onload=n.onerror=n.onabort=function(){n.onload=n.onerror=n.onabort=null,window[a]=n=null,o()},n.src=N(He,this.data),setTimeout((function(){o()}),100)})}};function Qe(e){let t=P(e)+"&oauthType=openSwan";return Xe(function(e){let t="baiduboxapp://v16/public/thirdPart/config?params=",o="";if("ios"===f.os)o="swan/swanparse";else{let{appKey:t,path:r}=e;o="swan/"+t+("/"===r[0]?r:"/"+r)}let r={ext:e.ext||{},type:"openSwan",schemeList:[o]};return t+=encodeURIComponent(JSON.stringify(r)),t+="&oauthType=openSwan",t}(e)).then(()=>(Ge.log("success"),Xe(t,2))).then(()=>s).catch(({errMsg:e})=>{throw new m("fail",e)})}function Xe(e,t=1){const o=U();e+=(1==+t?"&callback=":"&cb=")+o;let r=x(o),n="android"===f.os?function(e){let t=window.Bdbox_android_jsbridge;if(t&&t.dispatch)t.dispatch(e);else{let t=window.prompt("BdboxApp:"+JSON.stringify({obj:"Bdbox_android_jsbridge",func:"dispatch",args:[e]}));try{t=JSON.parse(t);return"true"===(t&&t.result)?p:d}catch(e){return d}}}(e):function(e){let t=document.createElement("iframe"),o=document.body||document.getElementsByTagName("body")[0];t.style.display="none",t.src=e,o.appendChild(t),setTimeout(()=>{o.removeChild(t),t=null},0)}(e);var a;return n&&(a=n,window[o](a)),r}var Ze=function(e){return b(e.hostId)?y&&!v?()=>Promise.reject(l):/\bswan\//i.test(h)?_:Qe:ze},We=function(e,t){let{failUrl:o,hostId:r,disableFailHandler:n}=e;return""===o||n||b(r)&&void 0===o?Promise.reject(t):(t===l.errMsg&&(o=function(e){let{appKey:t,path:o,from:r,query:n,source:a,channel:i}=e,s={appid:t,from:r,activity_id:"289",source:a,channel:i,url:o+"?"+C.a.stringify(n)};return N("https://mbd.baidu.com/ma/landingpage?t=smartapp_share",s)}(e)),new Promise((e,t)=>{window.location.href=o,t(new m("fail"))}))};function et(e){let t=function(e,t="private"){const o=e.hostId||a()||"baidu";return{hostId:o,scheme:"open"===t?"":e.scheme,appKey:e.appKey||"",path:e.path||"",query:e.query||{},timeout:e.timeout||1e3,from:e.from||"1271000600000000",ext:e.ext||{},source:e.source||"1023295y",channel:e.channel||"1023295z",token:e.token||"",toStore:e.toStore,disableFailHandler:!!e.disableFailHandler||!1,failUrl:e.failUrl,hostInfo:i(o)}}(e,"open");Ge.init(t),Ge.log("invoke"),Ze(t)(t).then(e=>(Ge.log("success"),e)).catch(({errCode:e,errMsg:o})=>(Ge.log(e,o),We(t,o)))}}]));